<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="dpd.js"></script>
	<script type="text/javascript" src="slides.js"></script>
	<script type="text/javascript" src="finalAshConfig.js"></script>
	<script type="text/javascript">


	function script(){
		console.log("script laod");
		slideGenerator();

		createXml();

	}


	function createXml(){
		window.myXmlFile = "<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n";
		window.myXmlFile += "<Tools attr='money'>\n";

		window.myXmlFile += "<child count='0' type='robotSayHello' robotNr='0' />\n";

		window.myXmlFile += "<child count='0' type='robotSayHello' robotNr='1' />\n";

		window.myXmlFile += "<child count='0' type='robotSayHello' robotNr='2' />\n";

		window.myXmlFile += "<child count='0' type='robotSayHello' robotNr='3' />\n";

		//Add the dree commands for saying hello

		var m = window.mySlides;
		for (var i = 0; i < m.length; i++) {

			switch(m[i].type){

				case "drawCommand":
					window.myXmlFile +=  "<child count='0' type='changeSlide' slideCount='"+i+"' />\n"
				break;

				case "drawAsch":
					window.myXmlFile +=  "<child count='0' type='changeSlide' slideCount='"+i+"' />\n";
					if(m[i].user != 4 && (m[i].loudRobot || typeof m[i].loudRobot == "undefined")){

						var sayWhat = "A";
						if(m[i].roboAnswer == 0){
							sayWhat = "A";
						}else if(m[i].roboAnswer == 1){
							sayWhat = "B";
						}else if(m[i].roboAnswer == 2){
							sayWhat = "C";
						}

						var myABC = ["A","B","C"];
						window.myXmlFile += "<child count='0' type='robotSayAsch' robotNr='"+m[i].user+"' sayWhat='"+sayWhat+"' correct='"+myABC[m[i].answernr]+"' />\n";
					}
				break;

				case "drawManyWord":


					window.myXmlFile += "<child count='0' type='changeSlide' slideCount='"+i+"' />\n";
					if(m[i].user != 4 && typeof m[i].robotW !== "undefined"){
						window.myXmlFile += "<child count='0' type='robotSayWord' robotNr='"+m[i].user+"' sayWhat='"+m[i].robotW+"' hardEasy='"+m[i].hardEasy+"' scheme='"+m[i].scheme+"' />\n";
					}


				break;

			}
			//Things[i]
		};

		window.myXmlFile += "</Tools>";

		console.log(window.myXmlFile);
	}
	</script>
</head>
<body onload="script();">
	

</body>
</html>